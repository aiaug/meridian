id: TASK-001
title: Build Particle Zen Garden demo (Neo-Tokyo Night aesthetic)
status: todo
priority: P1

objective: >
  Create an interactive particle canvas application with cyberpunk aesthetics to demonstrate
  Meridian's project management capabilities. Users can draw with multiple brush types,
  switch color palettes, and experience smooth neon particle animations with a Neo-Tokyo Night theme.

constraints:
  - Must use Next.js 14 App Router with TypeScript strict mode
  - Follow CODE_GUIDE_ADDON_HACKATHON.md (fast prototype mode)
  - Use Tailwind CSS for UI controls
  - HTML Canvas API for particle rendering
  - No backend required (client-side only)
  - Neo-Tokyo Night aesthetic (cyberpunk, neon colors, futuristic fonts)

requirements:
  - id: R1
    description: Implement core particle system with Canvas API
    acceptance_criteria: |
      - Canvas fills viewport and responds to mouse/touch events
      - Particles spawn at cursor position with physics (velocity, gravity, fade)
      - Smooth 60fps rendering with requestAnimationFrame
      - Particles cleanup automatically to prevent memory leaks
    status: todo

  - id: R2
    description: Create 4 distinct brush types with unique behaviors
    acceptance_criteria: |
      - Flowing Trails: smooth following particles with trail effect
      - Fireflies: glowing orbs with random drift behavior
      - Neon Streaks: speed-based trails that respond to cursor velocity
      - Sakura Petals: physics-based falling particles with rotation
      - Users can switch between brushes via UI or keyboard (1-4)
    status: todo

  - id: R3
    description: Implement color palette system with presets
    acceptance_criteria: |
      - 4+ color palettes: Classic Neon, Vaporwave, Matrix, Synthwave
      - Each palette defines primary/secondary/accent colors
      - Palette switcher UI component
      - Selected palette persists in localStorage
      - Keyboard shortcut to cycle palettes (P key)
    status: todo

  - id: R4
    description: Build control panel UI with Neo-Tokyo aesthetic
    acceptance_criteria: |
      - Brush selector with visual preview/icons
      - Palette picker with color swatches
      - Clear canvas button
      - Settings panel (particle count, fade speed)
      - Futuristic fonts (Orbitron for headings)
      - Neon glow effects on active controls
      - Glowing borders and cyberpunk styling
    status: todo

  - id: R5
    description: Add keyboard shortcuts and polish
    acceptance_criteria: |
      - C key: clear canvas
      - 1-4 keys: select brush type
      - P key: cycle color palettes
      - Smooth animations with custom easing
      - Glow effects on particles matching palette
      - Responsive design (works on mobile touch)
    status: todo

deliverables:
  - Code: /app/page.tsx, /components/Canvas.tsx, /components/BrushSelector.tsx, /components/PaletteSelector.tsx, /components/Controls.tsx
  - Code: /lib/particles.ts, /lib/palettes.ts, /lib/types.ts
  - Code: Tailwind config with custom colors and fonts
  - Docs: README.md with project description, features, keyboard shortcuts

implementation_notes:
  - "CRITICAL: Follow .meridian/CODE_GUIDE.md baseline + CODE_GUIDE_ADDON_HACKATHON.md"
  - "Performance: Use canvas optimization (double buffering if needed, particle pooling)"
  - "Aesthetics: Avoid generic AI design - use distinctive Neo-Tokyo cyberpunk theme"
  - "Fonts: Use Orbitron or Audiowide for headings, modern sans for UI"
  - "Colors: Deep purple-black bg (#0a0a0f), neon accents (hot pink, electric blue, cyan)"
  - "Motion: Smooth animations with custom cubic-bezier easing"
  - "Accessibility: Keyboard navigation, clear focus states, reduce motion option"

risks:
  - desc: Canvas performance may degrade with too many particles
    mitigation: Implement particle count limit, cleanup old particles, add performance mode toggle
  - desc: Mobile touch events may not work as smoothly as desktop mouse
    mitigation: Test on touch devices early, adjust particle spawn rate for touch

validation:
  commands:
    - npm run typecheck
    - npm run lint
    - npm run build
  manual_steps:
    - Verify all 4 brush types work with distinct behaviors
    - Test all color palettes apply correctly
    - Verify keyboard shortcuts (C, 1-4, P) function
    - Test on mobile device with touch
    - Verify 60fps performance with reasonable particle counts
    - Check localStorage persists palette selection

links:
  files: []
  docs: []
notes: []

resources:
  docs:
    - .meridian/CODE_GUIDE.md
    - .meridian/CODE_GUIDE_ADDON_HACKATHON.md
  code_paths: []
  context_files: []
